webpackJsonp([13],{1169:function(e,t,n){var o=n(1170);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(423)("7e7ad395",o,!1)},1170:function(e,t,n){t=e.exports=n(422)(),t.push([e.i,"\n.login-container[data-v-81caa06a] {\n  background: url("+n(1171)+") no-repeat;\n  background-size: 100% 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n.login-container .login-form[data-v-81caa06a] {\n  position: relative;\n  height: 350px;\n  width: 420px;\n  box-shadow: 0 0 25px #409eff;\n  border-radius: 10px;\n  padding: 20px 35px;\n  background: #ffffff;\n  margin-top: -40px;\n}\n.login-container .tips[data-v-81caa06a] {\n  font-size: 14px;\n  color: #fff;\n  margin-bottom: 10px;\n}\n.login-container .title-container[data-v-81caa06a] {\n  position: relative;\n  margin-bottom: 22px;\n}\n.login-container .title-container .title[data-v-81caa06a] {\n  font-size: 24px;\n  margin: 0px auto;\n  font-weight: 600;\n  text-align: center;\n  font-weight: bold;\n  line-height: 36px;\n}\n.el-form-item[data-v-81caa06a] {\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 5px;\n  color: #454545;\n}\n.logo[data-v-81caa06a] {\n  display: block;\n  margin: 0 auto;\n  width: 148px;\n  height: 63px;\n}\n",""])},1171:function(e,t,n){e.exports=n.p+"c622f12ef09a9183bf6abb32177993f7.jpg"},1172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,t,n){t.length<1?n(new Error("请输入用户名")):n()}}],password:[{required:!0,trigger:"blur",validator:function(e,t,n){t.length<1?n(new Error("请输入密码")):n()}}]},passwordType:"password",redirect:void 0}},mounted:function(){window.addEventListener("keydown",this.keyDown)},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{keyDown:function(e){13==e.keyCode&&this.handleLogin()},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return!1;e.$myHttp.get("gpsGroups/userLogin?userName="+e.loginForm.username+"&password="+e.loginForm.password).then(function(t){var n=JSON.parse(t.result);if(t.result.indexOf("sessionid")>-1){var o=n["soap:Envelope"]["soap:Body"]["ns1:UserLoginResponse"]["ns1:out"];e.$Cookie.set("sessionid",o.sessionid.content),e.$Cookie.set("userId",o.login.content)}else window.vm.$message({type:"error",message:"请输入正确的用户名和密码",showClose:!0,duration:2e3}),e.resetForm("loginForm")}).then(function(){e.$myHttp.get("gpsGroups/checkUser?userId="+e.$Cookie.get("userId")+"&sId="+e.$Cookie.get("sessionid")).then(function(t){1==t.result.flag?(e.$Cookie.set("islogin",t.result.flag),null==t.result.USERNAME||""==t.result.USERNAME?e.$Cookie.set("userName",t.result.NAME):e.$Cookie.set("userName",t.result.USERNAME),e.$Cookie.set("AREAID",t.result.AREAID),e.$Cookie.set("GROUPCODE",t.result.GROUPCODE),e.$Cookie.set("GROUPNAME",t.result.GROUPNAME),e.$Cookie.set("AREANAME",t.result.AREANAME),e.$router.push({path:"/home"})):e.$router.push({path:"/login"})})})})},resetForm:function(e){this.$refs[e].resetFields()}}}},1173:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-container"},[o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[o("div",{staticClass:"title-container"},[o("img",{staticClass:"logo",attrs:{src:n(1174)}}),e._v(" "),o("h3",{staticClass:"title"},[e._v("GPS管道巡线情况统计平台登录")])]),e._v(" "),o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{ref:"username",attrs:{id:"account",placeholder:"请输入用户名",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{key:e.passwordType,ref:"password",attrs:{id:"psw",type:e.passwordType,placeholder:"请输入密码",tabindex:"2","auto-complete":"on"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),o("el-row",{attrs:{gutter:40}},[o("el-col",{attrs:{span:12}},[o("el-button",{staticStyle:{width:"100%"},attrs:{id:"login_btn",type:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-button",{staticStyle:{width:"100%"},on:{click:function(t){e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},1174:function(e,t,n){e.exports=n.p+"e24d9a8265058c504637d4caaaf95cb7.png"},431:function(e,t,n){n(1169);var o=n(265)(n(1172),n(1173),"data-v-81caa06a",null);o.options.__file="D:\\website\\src\\views\\login.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] login.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports}});