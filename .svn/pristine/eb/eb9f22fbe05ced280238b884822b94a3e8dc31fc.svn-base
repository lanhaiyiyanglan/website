webpackJsonp([10],{1236:function(t,e,a){var n=a(1237);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(423)("53aae58b",n,!1)},1237:function(t,e,a){e=t.exports=a(422)(),e.push([t.i,"\n.box[data-v-51ed1693]{position: relative;width:100%;height: 100%;\n}\n.form[data-v-51ed1693]{margin:2vh auto;width:98%;\n}\n.tableBox[data-v-51ed1693]{width:98%;color:#000000;margin:2vh auto;font-size:13px;text-align: center;\n}\n.tableBox h3[data-v-51ed1693]{color:#26f4ff;font-size:20px;padding:0px 0 10px 0;\n}\n.tableBox p[data-v-51ed1693]{color: #26f4ff;font-size: 14px;height:20px;line-height: 20px;margin-bottom:10px;\n}\n.export-btn[data-v-51ed1693]{color: #fff;background-color: #409eff;border-color: #409eff;\n}\n.spScollor table[data-v-51ed1693]{\r\n    border-collapse: collapse;\r\n    width:90%;\r\n    border:1px solid #c6c6c6 !important;\r\n    margin:0 auto;\r\n    border-spacing: 0;\n}\n.el-form-item[data-v-51ed1693]{margin-bottom: 0!important;\n}\n.mapBox[data-v-51ed1693] {\r\n     background: rgba(0, 0, 0, 0.6);\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 99999999;\n}\n.mapBox .conBox .title .close[data-v-51ed1693] {\r\n    position: absolute;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    width: 30px;\r\n    right: 15px;\r\n    top: 15px;\r\n    font-size: 25px;\r\n    cursor: pointer;\n}\n.mapBox .conBox[data-v-51ed1693] {\r\n    height: 90%;\r\n    width: 90%;\r\n    margin-top: 2.5%;\r\n    margin-left: 5%;\n}\n.mapBox .conBox .title[data-v-51ed1693] {\r\n    position: relative;\r\n    height: 60px;\r\n    line-height: 60px;\r\n    text-align: center;\r\n    background: #fff;\r\n    border-bottom: 1px solid #ccc;\r\n    color: #000000;\n}\n.mapBox .conBox iframe[data-v-51ed1693] {\r\n    height: calc((100% - 60px));\r\n    width: 100%;\n}\r\n",""])},1238:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a(424),o=n(l),s=a(1239),i=n(s);e.default={components:{dealPatrol:i.default},data:function(){return{form:{AREAID:"",STATIONID:"",dateTime:"",alarmStyle:"",dealStyle:""},placelist:[],stationlist:[],alarmlist:[],deallist:[{value:"",label:"全部"},{value:"0",label:"未处理"},{value:"1",label:"已处理"}],tableData:[],times:[],currentPage:1,pageSize:10,total:0,mapBool:!1,showTable:!1,formobj:{},showDeal:!1}},watch:{$route:function(t,e){t.path!=e.path&&this.init()}},mounted:function(){this.init()},methods:{init:function(){this.form.AREAID="",this.form.dateTime="",this.form.alarmStyle="",this.form.dealStyle="",this.getAllArea(),this.changePlace(this.form.AREAID),this.getAlarmType(),this.total=0,this.currentPage=1},handleSizeChange:function(t){this.pageSize=t},handleCurrentChange:function(t){this.currentPage=t},changeDate:function(t){null==t?(this.times=[],this.form.dateTime=""):this.times=t,this.showTable=!1},getAllArea:function(){var t=this,e="gpsGroups/getAllArea?userId="+this.$Cookie.get("userId");this.$myHttp.get(e).then(function(e){t.placelist=e.result}),this.showTable=!1},changePlace:function(t){var e=this;this.form.STATIONID="";var a="gpsGroups/getStationsByArea?userId="+this.$Cookie.get("userId")+"&groupCode="+t;this.$myHttp.get(a).then(function(t){e.stationlist=t.result}),this.showTable=!1},getAlarmType:function(){var t=this;this.showTable=!1,this.$myHttp.get("gpsGroups/getApCodomainsByCode?code=gps_alarms_isok").then(function(e){t.alarmlist=e.result,t.alarmlist.push({CODEID:"",CODENAME:"全部"})})},changeSelect:function(){this.showTable=!1},search:function(){var t=this,e={headers:{"content-type":"application/json"}},a={alarmType:this.form.alarmStyle,areaId:this.form.AREAID,endDate:this.times[1],startDate:this.times[0],stationId:this.form.STATIONID,status:this.form.dealStyle,userId:this.$Cookie.get("userId")};this.$myHttp.post("daiXun/getDaiXunList",(0,o.default)(a),e).then(function(e){t.tableData=e.result,t.total=t.tableData.length;var a=t.currentPage>Math.ceil(t.total/t.pageSize)?Math.ceil(t.total/t.pageSize):t.currentPage;t.currentPage=t.currentPage<1?1:a,t.showTable=!0})},lookPoint:function(t){var e=this,a=t.BEGINTIME,n=t.ENDTIME,l=t.PERSONID,s=t.BPERSONID,i=t.PERSONNAME,r=t.BPERSONNAME;this.$myHttp.get("daiXun/getPointList?beginTime="+a+"&endTime="+n+"&personId="+l).then(function(t){if(t.success){var a=t.result.map(function(t){return{longitude:t.LONGITUDE,latitude:t.LATITUDE}}),n=[{pointList:a,PERSONNAME:i}];e.$Cookie.set("mapInfo",(0,o.default)(n))}}),this.$myHttp.get("daiXun/getPointList?beginTime="+a+"&endTime="+n+"&personId="+s).then(function(t){if(t.success){var a=t.result.map(function(t){return{longitude:t.LONGITUDE,latitude:t.LATITUDE}}),n=[{pointList:a,PERSONNAME:r}];e.$Cookie.set("mapInfo2",(0,o.default)(n))}}),this.$Cookie.set("pointFre","14"),this.mapBool=!0},closeMap:function(){this.mapBool=!1,this.$Cookie.set("mapInfo",null)},goHandle:function(t){this.formobj=t,this.showDeal=!0},closeDeal:function(){this.showDeal=!1},submitDetail:function(t){var e=this;this.$myHttp.post("daiXun/updateDaiXun",t).then(function(t){t.success&&(window.vm.$message({type:"success",message:"操作成功",showClose:!0,duration:2e3}),e.showDeal=!1),e.search()})}}}},1239:function(t,e,a){a(1240);var n=a(265)(a(1242),a(1243),"data-v-a1423918",null);n.options.__file="D:\\website\\src\\components\\dealPatrol.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] dealPatrol.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},1240:function(t,e,a){var n=a(1241);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(423)("226c5a58",n,!1)},1241:function(t,e,a){e=t.exports=a(422)(),e.push([t.i,"\n.addList[data-v-a1423918] {\n  position: absolute;\n  z-index: 2;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.8);\n}\n.addList .addTable[data-v-a1423918] {\n  width: 650px;\n  height: 490px;\n  background: #000000;\n  position: absolute;\n  left: 50%;\n  margin-left: -325px;\n  z-index: 99999;\n}\n.addList .addTable .title[data-v-a1423918] {\n  position: relative;\n  height: 60px;\n  line-height: 60px;\n  text-align: center;\n  background: #252932;\n  border-bottom: 1px solid #ccc;\n  color: #3baaaf;\n  font-size: 16px;\n}\n.addList .addTable .title .close[data-v-a1423918] {\n  position: absolute;\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n  right: 15px;\n  top: 15px;\n  font-size: 25px;\n  cursor: pointer;\n}\n.addList .addTable .confirm[data-v-a1423918] {\n  position: relative;\n  height: 60px;\n  line-height: 60px;\n  text-align: center;\n  background: #252932;\n  color: #3baaaf;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.addList .addTable .confirm .close[data-v-a1423918] {\n  display: inline-block;\n  height: 30px;\n  line-height: 30px;\n  width: 60px;\n  font-size: 16px;\n  cursor: pointer;\n  color: #3baaaf;\n  border: 1px solid #3baaaf;\n  border-radius: 5px;\n  margin-left: 20px;\n}\n.addList .addTable .confirm .add[data-v-a1423918] {\n  display: inline-block;\n  height: 30px;\n  line-height: 30px;\n  width: 60px;\n  font-size: 16px;\n  cursor: pointer;\n  color: #3baaaf;\n  border: 1px solid #3baaaf;\n  border-radius: 5px;\n}\n.formbox[data-v-a1423918] {\n  overflow: hidden;\n  padding: 20px 20px 0 20px;\n  box-sizing: border-box;\n}\n.formbox .el-form-item[data-v-a1423918] {\n  float: left;\n  width: 43%;\n}\n.formbox .el-form-item .el-select[data-v-a1423918] {\n  width: 100%;\n}\n.formbox .w100[data-v-a1423918] {\n  width: 100%;\n}\n.lookSpan[data-v-a1423918] {\n  color: #ffffff;\n}\n",""])},1242:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["formobj"],data:function(){return{form:{},alarmlist:[],alarmStyle:"",descNote:""}},created:function(){this.form=this.formobj,this.getAlarmType()},methods:{cancel:function(){this.$emit("close")},submit:function(){if(""==this.alarmStyle||""==this.descNote)return window.vm.$message({type:"error",message:"请选择报警类型并填写处理描述",showClose:!0,duration:2e3}),!1;var t={alarmId:this.form.ALARMID,alarmType:this.alarmStyle,descNote:this.descNote,handler:this.$Cookie.get("userId"),userId:this.$Cookie.get("userId")};this.$emit("sub",t)},getAlarmType:function(){var t=this;this.$myHttp.get("gpsGroups/getApCodomainsByCode?code=gps_alarms_isok").then(function(e){t.alarmlist=e.result})}}}},1243:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addList"},[a("div",{staticClass:"addTable"},[a("div",{staticClass:"title"},[t._v("\n      代巡处理\n      "),a("span",{staticClass:"close",on:{click:t.cancel}},[t._v(t._s("×"))])]),t._v(" "),a("div",{staticClass:"formbox"},[a("el-form",{attrs:{model:t.form,"label-width":"130px",rules:t.rules}},[a("el-form-item",{staticClass:"small",attrs:{label:"管理处："}},[a("span",{staticClass:"lookSpan"},[t._v(t._s(t.form.AREANAME))])]),t._v(" "),a("el-form-item",{staticClass:"small",attrs:{label:"输油站："}},[a("span",{staticClass:"lookSpan"},[t._v(t._s(t.form.STATIONNAME))])]),t._v(" "),a("el-form-item",{staticClass:"small",attrs:{label:"代巡人："}},[a("span",{staticClass:"lookSpan"},[t._v(t._s(t.form.PERSONNAME))])]),t._v(" "),a("el-form-item",{staticClass:"small",attrs:{label:"被代巡人："}},[a("span",{staticClass:"lookSpan"},[t._v(t._s(t.form.BPERSONNAME))])]),t._v(" "),a("el-form-item",{staticClass:"small",attrs:{label:"开始时间："}},[a("span",{staticClass:"lookSpan"},[t._v(t._s(t.form.BEGINTIME))])]),t._v(" "),a("el-form-item",{staticClass:"small",attrs:{label:"结束时间："}},[a("span",{staticClass:"lookSpan"},[t._v(t._s(t.form.ENDTIME))])]),t._v(" "),a("el-form-item",{staticClass:"w100",attrs:{label:"报警类型："}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"请选择报警类型"},model:{value:t.alarmStyle,callback:function(e){t.alarmStyle=e},expression:"alarmStyle"}},t._l(t.alarmlist,function(t){return a("el-option",{key:t.CODEID,attrs:{label:t.CODENAME,value:t.CODEID}})}))],1),t._v(" "),a("el-form-item",{staticClass:"w100",attrs:{label:"处理描述："}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.descNote,callback:function(e){t.descNote=e},expression:"descNote"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"confirm"},[a("span",{staticClass:"add",on:{click:function(e){t.submit()}}},[t._v("确认")]),t._v(" "),a("span",{staticClass:"close",on:{click:t.cancel}},[t._v("取消")])])])])},staticRenderFns:[]},t.exports.render._withStripped=!0},1244:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-form",{staticClass:"form",attrs:{inline:!0,model:t.form}},[a("el-form-item",{attrs:{label:"输油处：",prop:"AREAID"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择输油处"},on:{change:t.changePlace},model:{value:t.form.AREAID,callback:function(e){t.$set(t.form,"AREAID",e)},expression:"form.AREAID"}},t._l(t.placelist,function(t){return a("el-option",{key:t.GROUPCODE,attrs:{label:t.GROUPNAME,value:t.GROUPCODE}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"输油站：",prop:"STATIONID"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择输油站"},on:{change:t.changeSelect},model:{value:t.form.STATIONID,callback:function(e){t.$set(t.form,"STATIONID",e)},expression:"form.STATIONID"}},t._l(t.stationlist,function(t){return a("el-option",{key:t.GROUPCODE,attrs:{label:t.GROUPNAME,value:t.GROUPCODE}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"日期：",prop:"dateTime"}},[a("el-date-picker",{attrs:{size:"small",type:"daterange","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeDate},model:{value:t.form.dateTime,callback:function(e){t.$set(t.form,"dateTime",e)},expression:"form.dateTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"报警类型：",prop:"alarmStyle"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请选择报警类型"},on:{change:t.changeSelect},model:{value:t.form.alarmStyle,callback:function(e){t.$set(t.form,"alarmStyle",e)},expression:"form.alarmStyle"}},t._l(t.alarmlist,function(t){return a("el-option",{key:t.CODEID,attrs:{label:t.CODENAME,value:t.CODEID}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"处理类型：",prop:"dealStyle"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请选择处理类型"},on:{change:t.changeSelect},model:{value:t.form.dealStyle,callback:function(e){t.$set(t.form,"dealStyle",e)},expression:"form.dealStyle"}},t._l(t.deallist,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.search()}}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticClass:"tableBox"},[a("h3",[t._v("国家石油天然气管网集团有限公司华南分公司")]),t._v(" "),t.times.length>1?[a("p",[t._v("代巡情况统计表("+t._s(t.times[0])+" - "+t._s(t.times[1])+")")])]:[a("p",[t._v("代巡情况统计表")])],t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showTable,expression:"showTable"}],attrs:{id:"tableExport"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"default-sort":{prop:"STATUS",order:"ascending"},height:"calc(100vh - 330px)",data:t.tableData.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize),"tooltip-effect":"dark",border:"","header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50px;"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((t.currentPage-1)*t.pageSize+e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"AREANAME",label:"管理处"}}),t._v(" "),a("el-table-column",{attrs:{prop:"STATIONNAME",label:"输油站"}}),t._v(" "),a("el-table-column",{attrs:{prop:"PERSONNAME",label:"代巡人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"BPERSONNAME",label:"被代巡人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"BEGINTIME",label:"代巡开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ENDTIME",label:"代巡结束时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"STATUS",label:"处理状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.STATUS?[t._v("\n                                 未处理\n                            ")]:1==e.row.STATUS?[t._v("\n                                 已处理\n                            ")]:[t._v("\n                                 全部\n                            ")]]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ALARMTYPECN",label:"报警类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"USERNAME",label:"处理人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"HANDLETIME",label:"处理时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DESCNOTE",label:"处理描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.STATUS?[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(a){t.goHandle(e.row)}}},[t._v("去处理")])]:t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(a){t.lookPoint(e.row)}}},[t._v("轨迹查看")])]}}])})],1)],1)],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showTable,expression:"showTable"}],staticClass:"paginationBox"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),t.mapBool?a("div",{staticClass:"mapBox"},[a("div",{staticClass:"conBox"},[a("div",{staticClass:"title"},[t._v("地图展示"),a("span",{staticClass:"close",on:{click:t.closeMap}},[t._v(t._s("×"))])]),t._v(" "),a("iframe",{attrs:{src:"/SinopecPatrol/statistics/static/AntuMap/AntuMap.html"}})])]):t._e(),t._v(" "),t.showDeal?a("dealPatrol",{attrs:{formobj:t.formobj},on:{close:t.closeDeal,sub:t.submitDetail}}):t._e()],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},439:function(t,e,a){a(1236);var n=a(265)(a(1238),a(1244),"data-v-51ed1693",null);n.options.__file="D:\\website\\src\\views\\ywbb\\patrolReport.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] patrolReport.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports}});